<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3"
      crossorigin="anonymous"
    />
    <link rel="stylesheet" href="./clock.css" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Catfish day</title>
  </head>
  <div class="image">
    <body>
      <h1>Time left until national catfish day</h1>
      <div id="clockdiv">
        <div>
          <span class="days"></span>
          <div class="smalltext">Days</div>
        </div>
        <div>
          <span class="hours"></span>
          <div class="smalltext">Hours</div>
        </div>
        <div>
          <span class="minutes"></span>
          <div class="smalltext">Minutes</div>
        </div>
        <div>
          <span class="seconds"></span>
          <div class="smalltext">Seconds</div>
        </div>
      </div>

      <script>
        function getTimeRemaining(endtime) {
          let t = Date.parse(endtime) - Date.parse(new Date());
          let seconds = Math.floor((t / 1000) % 60);
          let minutes = Math.floor((t / 1000 / 60) % 60);
          let hours = Math.floor((t / (1000 * 60 * 60)) % 24);
          let days = Math.floor(t / (1000 * 60 * 60 * 24));
          return {
            total: t,
            days: days,
            hours: hours,
            minutes: minutes,
            seconds: seconds,
          };
        }

        function initializeClock(id, endtime) {
          const clock = document.getElementById(id);
          const daysSpan = clock.querySelector(".days");
          const hoursSpan = clock.querySelector(".hours");
          const minutesSpan = clock.querySelector(".minutes");
          const secondsSpan = clock.querySelector(".seconds");

          function updateClock() {
            let t = getTimeRemaining(endtime);

            daysSpan.innerHTML = t.days;
            hoursSpan.innerHTML = ("0" + t.hours).slice(-2);
            minutesSpan.innerHTML = ("0" + t.minutes).slice(-2);
            secondsSpan.innerHTML = ("0" + t.seconds).slice(-2);

            if (t.total <= 0) {
              clearInterval(timeinterval);
            }
          }

          updateClock();
          let timeinterval = setInterval(updateClock, 1000);
        }
        let now = new Date();
        let catfishDay = new Date(2022, 05, 25);
        let difference = catfishDay.getTime() - now.getTime();
        let deadline = new Date(Date.parse(new Date()) + difference);
        initializeClock("clockdiv", deadline);
      </script>
    </body>
  </div>
</html>
